{{ define "styles" }}
    {{ $.Scratch.Set "style_opts" (dict "src" "scss/main.scss" "dest" "css/main.css") }}
{{ end }}

{{ define "main" }}

<div id="homeBanner">
  <div id="title">
    <div id="name">{{ .Params.name }}</div>
    <div id="heading">
      <span id="heading1"></span>
      <span id="heading2"></span>
    </div>
    <div id="slogan"></div>
    <div id="subheading">
      <span>{{ .Params.subheading1 }}</span> |
      <span>{{ .Params.subheading2 }}</span>
    </div>
  </div>
  {{ partial "social-icons.html" .}}
</div>

<style>
{{ $heading1 := .Params.heading1 }}
{{ $heading2 := .Params.heading2 }}
@keyframes typewriter1 {
  from,
  {{ range $index, $element := (split $heading1 "" ) }}
  {{ $index }}% {
    content: "{{ substr $heading1 0 (add $index 1) }}";
  }
  {{ end }}
  to,
  100% {
    content: "{{ $heading1 }}";
  }
}
@keyframes typewriter2 {
  from,
  0.0%,
  {{ sub (len $heading1) 1 }}% {
    content: "";
  }
  {{ range $index, $element := (split $heading2 "" ) }}
  {{ add (len $heading1) $index }}% {
    content: "{{ substr $heading2 0 (add $index 1) }}";
  }
  {{ end }}
  to,
  100% {
    content: "{{ $heading2 }}";
  }
}
</style>

{{ $script := resources.Get "js/custom.js" | minify | fingerprint }}
<script src="{{ $script.RelPermalink }}" integrity="{{ $script.Data.Integrity | safeHTMLAttr }}" crossorigin="anonymous"></script>
{{ block "scripts" . }} {{ end }}

{{ end }}
